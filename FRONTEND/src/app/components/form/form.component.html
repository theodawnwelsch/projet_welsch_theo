<div class=" text-center">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="row">
            <div class="col-md-6 mb-3">
                <div class="form-group">
                    <div *ngIf="prenom && prenom.invalid && (prenom.dirty || prenom.touched)" class="aler alert-danger">
                        <div *ngIf="prenom.errors?.required">
                            Prénom obligatoire.
                        </div>
                        <div *ngIf="prenom.errors?.pattern">
                            Le prénom ne peut contenir que des lettres, des tirets et des points.
                        </div>                                     
                    </div>
                    <label for="login">Prénom</label>
                    <input type="text" id="prenom" class="form-control" formControlName="prenom">            
                </div>
                <div class="form-group">
                    <div *ngIf="login && login.invalid && (login.dirty || login.touched)" class="aler alert-danger">
                        <div *ngIf="login.errors?.required">
                            Nom d'utilistateur obligatoire.
                        </div>
                        <div *ngIf="login.errors?.pattern">
                            Le nom d'utilisateur ne peut contenir que des lettres, des tirets et des points.
                        </div>                                     
                    </div>
                    <label for="login">Login</label>
                    <input type="text" id="login" class="form-control" formControlName="login">            
                </div>
                <div class="form-group">
                    <div *ngIf="password && password.invalid && (password.dirty || password.touched)" class="aler alert-danger">
                        <div *ngIf="password.errors?.required">
                            Mot de passe obligatoire.
                        </div>                              
                    </div>
                    <label for="password">Mot de passe</label>
                    <input type="password" id="password" class="form-control" formControlName="password">            
                </div>
            </div>    
            <div class="col-md-6 mb-3">
                <div class="form-group">
                    <div *ngIf="nom && nom.invalid && (nom.dirty || nom.touched)" class="aler alert-danger">
                        <div *ngIf="nom.errors?.required">
                            Nom obligatoire.
                        </div>
                        <div *ngIf="nom.errors?.pattern">
                            Le nom ne peut contenir que des lettres, des tirets et des points.
                        </div>                                     
                    </div>
                    <label for="login">Nom</label>
                    <input type="text" id="nom" class="form-control" formControlName="nom">            
                </div>
                <div class="form-group">
                    <div *ngIf="verifPsswd && verifPsswd.invalid && (verifPsswd.dirty || verifPsswd.touched)" class="aler alert-danger">
                        <div *ngIf="verifPsswd.errors?.required">
                            Ce champ est obligatoire.
                        </div>                              
                    </div>
                    <div *ngIf="userForm.errors?.passwordVerif && (userForm.touched || userForm.dirty)" class="cross-validation-error-message alert alert-danger">
                        Le mot de passe n'est pas le même.
                    </div>
                    <label for="verifPsswd">Vérification du mot de passe</label>
                    <input type="password" id="verifPsswd" class="form-control" formControlName="verifPsswd">            
                </div>
            </div>

        </div>        
        <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">Créer son compte</button>
    </form>
</div>

<div *ngIf="(newUser$ | async) as user">
    <p>Client ajouté</p>
    <app-recap [newUser] = "user"></app-recap>
</div>
